import{useCallback as k,useRef as g}from"react";import{create as w}from"zustand";import{shallow as x}from"zustand/vanilla/shallow";var O=function(l,d=()=>l){let S=w(d),{getState:i,setState:c,subscribe:T}=S,f=Object.getPrototypeOf({});function p(t){return!!(t&&typeof t=="object"&&Object.getPrototypeOf(t)===f)}function u(t){let o=i(),a={},e=Object.keys(t);for(;e.length;){let r=e.shift(),s=o[r],n=t[r];if(p(s)&&p(n)){let m=s,K=n;a[r]={...m,...K}}else a[r]=n}c({...o,...a})}function y(t,o=u){return o(t)}function b(t){return function(a,e=u){return e({[t]:a})}}function P(t,o){let a=o??x,e=g(void 0),r=k(s=>{let n=s[t];return(e.current===void 0||!a(e.current,n))&&(e.current=n),e.current},[t,a]);return S(r)}return{useGlobalState:P,getStates:i,setStates:c,updateStates:y,createPropUpdater:b,useStore:S,subscribe:T}},j=O({}),{useGlobalState:R,getStates:B,setStates:C,updateStates:G,createPropUpdater:z,useStore:F,subscribe:M}=j;export{z as createPropUpdater,O as createStore,B as getStates,C as setStates,M as subscribe,G as updateStates,R as useGlobalState,F as useStore};
//# sourceMappingURL=index.js.map
